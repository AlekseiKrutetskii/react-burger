{"version":3,"sources":["components/modal-overlay/modal-overlay.module.css","components/app-header/app-header.tsx","services/hooks.tsx","components/burger-ingredients/ingredients-item.tsx","components/burger-ingredients/burger-ingredients.tsx","services/reducers/history.tsx","services/slices/constructors.tsx","components/burger-constructor/constructor-item.tsx","components/burger-constructor/burger-constructor.tsx","components/modal-overlay/modal-overlay.tsx","components/modal/modal.tsx","components/ingredient-details/ingredient-details.tsx","components/order-details/order-details.tsx","services/slices/current.tsx","utils/data.js","utils/utils.tsx","services/slices/user.tsx","pages/login.tsx","pages/register.tsx","pages/forgot-password.tsx","types/orders.tsx","pages/reset-password.tsx","components/protected-route/protected-route.tsx","components/orders-list/orders-list-item.tsx","components/orders-list/orders-list.tsx","services/actions/index.tsx","pages/orders.tsx","pages/profile.tsx","services/slices/order.tsx","pages/feed.tsx","services/middleware/orders-socket-middleware.tsx","components/order/order.tsx","services/slices/ingredients.tsx","components/app/app.tsx","reportWebVitals.ts","services/slices/orders-list.tsx","services/reducers/index.tsx","index.tsx","pages/profile.module.css","components/order/order.module.css","components/burger-ingredients/burger-ingredients.module.css","components/ingredient-details/ingredient-details.module.css","components/orders-list/orders-list-item.module.css","components/app-header/app-header.module.css","pages/feed.module.css","components/burger-constructor/burger-construction.module.css","pages/login.module.css","components/orders-list/orders-list.module.css","components/order-details/order-details.module.css","pages/register.module.css","pages/forgot-password.module.css","pages/reset-password.module.css","components/app/app.module.css","components/burger-ingredients/ingredients-item.module.css","components/modal/modal.module.css"],"names":["module","exports","AppHeader","isConstructor","useRouteMatch","path","exact","isFeed","isProfile","className","styles","header","nav","to","type","useSelector","selectorHook","useDispatch","dispatchHook","IngredientsItem","item","location","useLocation","countData","store","constructors","count","itemCount","filter","i","_id","qty","useDrag","collect","monitor","isDragging","ref","style","opacity","cursor","JSON","stringify","link","pathname","state","background","size","src","image","alt","name","price","BurgerIngredients","handleOpenModal","data","ingredients","entities","useState","current","setCurrent","divWrap","useRef","divBun","divMain","divSouce","offsetCorrect","offsetTop","tab","value","active","onClick","onScroll","scrollTopDivWrap","scrollTop","offsetTopDivBun","offsetTopDivMain","offsetTopDivSouce","Math","abs","items","map","history","createBrowserHistory","createSlice","initialState","reducers","add","action","idis","payload","includes","citem","push","unshift","length","del","customId","update","clear","console","log","actions","ConstructorItem","index","id","moveConstructorItem","dispatch","useDrop","accept","handlerId","getHandlerId","hover","dragIndex","hoverIndex","hoverBoundingRect","getBoundingClientRect","hoverMiddleY","bottom","top","clientOffset","getClientOffset","hoverClientY","y","drop","drag","text","thumbnail","handleClose","delFromConstructor","BurgerConstructor","amount","reduce","previousValue","currentValue","array","isBun","random","useCallback","dragConstructorItem","$splice","isLoading","user","loading","isAuth","isLocked","total","from","ModalOverlay","handleCloseModal","children","overlay","Modal","modalRoot","document","getElementById","ReactDOM","createPortal","e","stopPropagation","modal","IngredientDetails","ing","setIng","useParams","useEffect","wrap","img","image_large","list","calories","proteins","fat","carbohydrates","OrderDetails","order","number","undefined","toString","cur","apiURL","checkReponse","res","ok","json","then","err","Promise","reject","fetchWithRefresh","url","options","a","fetch","Error","message","method","headers","body","token","localStorage","getItem","refreshData","setItem","refreshToken","setCookie","accessToken","authorization","forgotPassword","error","email","preventDefault","success","catch","resetPassword","password","removeItem","getCookie","matches","cookie","match","RegExp","replace","decodeURIComponent","updatedCookie","encodeURIComponent","optionKey","optionValue","sliceName","registerUser","createAsyncThunk","registerData","response","loginUser","loginData","logoutUser","logoutData","getUser","Authorization","setUserData","extraReducers","builder","addCase","fulfilled","split","pending","rejected","LoginPage","valueEmail","setValueEmail","valuePassword","setValuePassword","icon","typePassword","setTypePassword","inputEmailRef","inputPasswordRef","onSubmit","form","placeholder","onChange","target","onIconClick","RegisterPage","valueName","setValueName","inputNameRef","ForgotPasswordPage","errorText","setErrorText","setError","handleOnBlur","test","onBlur","WebsocketStatus","OrderStatus","ResetPasswordPage","valueToken","setValueToken","inputTokenRef","forgot","ProtectedRoute","props","render","OrderListItem","moment","locale","block","date","createdAt","format","status","done","ingdata","it","OrdersList","orders","connect","createAction","disconnect","OrdersPage","ProfilePage","curUser","side","activeClassName","page","button","sendOrder","FeedPage","flex","flexc","info","totalToday","wsAction","Order","setOrder","dataIng","center","fetchIngredients","userId","thunkAPI","App","visible","setVisible","currentTarget","dataset","modaltype","parse","goBack","handleKeyPress","key","addEventListener","removeEventListener","app","DndProvider","backend","HTML5Backend","reportWebVitals","onPerfEntry","Function","getCLS","getFID","getFCP","getLCP","getTTFB","OFFLINE","connectionError","ordersList","wsOpen","ONLINE","wsClose","wsMessage","wsError","ordersListActions","ordersListReducer","reducer","rootReducer","combineReducers","router","connectRouter","ordersMiddleware","wsConnect","wsDisconnect","onOpen","onClose","onError","onMessage","socket","next","wsSendMessage","WebSocket","onopen","event","onerror","onmessage","parsedData","onclose","send","close","configureStore","middleware","getDefaultMiddleware","concat","routerMiddleware","devTools","process","StrictMode"],"mappings":"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","file":"static/js/main.8b01ee24.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"overlay\":\"modal-overlay_overlay__AKixE\"};","import React from 'react';\nimport { Logo, BurgerIcon, ListIcon, ProfileIcon } from '@ya.praktikum/react-developer-burger-ui-components';\nimport styles from './app-header.module.css';\nimport {useRouteMatch, Link} from \"react-router-dom\";\n\nconst AppHeader = () => {\n    const isConstructor = !!useRouteMatch({ path: '/', exact: true});\n    const isFeed = !!useRouteMatch('/feed');\n    const isProfile = !!useRouteMatch('/profile');\n\n    return (\n        <header className={`pt-4 pb-4 ${styles.header}`}>\n            <nav>\n                <ul className={styles.nav}>\n                    <li className=\"mr-2\"><Link data-testid=\"mainpage\" to=\"/\" className={`pl-5 pr-5 ${styles['nav-item']}`}><BurgerIcon type={isConstructor?'primary':'secondary'} /><span className={`pl-2 text text_type_main-default ${isConstructor?'':' text_color_inactive'}`}>Конструктор</span></Link></li>\n                    <li><Link to=\"/feed/\" className={`pl-5 pr-5 ${styles['nav-item']}`}><ListIcon type={isFeed?'primary':'secondary'} /><span className={`pl-2 text text_type_main-default ${isFeed?'':' text_color_inactive'}`}>Лента заказов</span></Link></li>\n                </ul>\n            </nav>\n            <Link to='/'><Logo /></Link>\n            <Link to=\"/profile\" className={`pl-5 pr-5 ${styles['nav-item']}`}><ProfileIcon type={isProfile?'primary':'secondary'} /><span className={`pl-2 text text_type_main-default ${isProfile?'':' text_color_inactive'}`}>Личный кабинет</span></Link>\n        </header>\n    )\n}\n\nexport default AppHeader;\n","import {\n    TypedUseSelectorHook,\n    useDispatch as dispatchHook,\n    useSelector as selectorHook\n} from 'react-redux';\n\nimport {RootState, AppDispatch} from \"./reducers\";\n\nimport { ThunkAction } from 'redux-thunk';\nimport { Action, ActionCreator, AnyAction } from 'redux';\n\nexport type AppThunk<TReturn = void> = ActionCreator<ThunkAction<TReturn, Action, RootState, AnyAction>>;\nexport const useSelector: TypedUseSelectorHook<RootState> = selectorHook;\nexport const useDispatch = () => dispatchHook<AppDispatch | AppThunk>();","import React from 'react';\nimport styles from './ingredients-item.module.css';\nimport {Counter, CurrencyIcon} from \"@ya.praktikum/react-developer-burger-ui-components\";\nimport { useDrag } from 'react-dnd';\nimport {useSelector} from '../../services/hooks';\nimport {RootState} from \"../../services/reducers\";\nimport {useLocation, Link} from \"react-router-dom\";\nimport {TEntity} from \"../../types\";\n\ntype TIngredientsItemProps = {\n    item: TEntity\n}\n\nconst IngredientsItem:React.FC<TIngredientsItemProps> = ({item}) => {\n    let location = useLocation();\n    const countData = useSelector((store: RootState) => store.constructors.count)\n    const itemCount  = countData.filter(i => i._id === item._id)[0];\n    const count = (itemCount)?itemCount.qty:0;\n\n    const [{ isDragging }, ref] = useDrag({\n        type: 'items',\n        item: item,\n        collect: monitor => ({\n            isDragging: !!monitor.isDragging()\n        })\n    });\n\n    return (\n        //<div ref={ref} style={{opacity: isDragging ? 0.5 : 1, cursor: 'move'}} className={`mb-8 ${styles.item}`} onClick={props.handleOpenModal} data-modaltype='Ingredients' data-item={JSON.stringify(props.item)}>\n\n            <div ref={ref} style={{opacity: isDragging ? 0.5 : 1, cursor: 'move'}} className={`mb-8 ${styles.item}`} data-item={JSON.stringify(item)}>\n                <Link className={styles.link}\n                key={item._id}\n                to={{\n                    pathname: `/ingredients/${item._id}`,\n                    // This is the trick! This link sets\n                    // the `background` in location state.\n                    state: { background: location }\n                }}\n            >\n                {count > 0 && <Counter count={count} size=\"default\" />}\n                <img className=\"pl-4 pr-4 mb-1\" src={item.image} alt={item.name}/>\n                <span className=\"text text_type_digits-default mb-1 price\">{item.price} <CurrencyIcon type=\"primary\" /></span>\n                <span className=\"text text_type_main-default\">{item.name}</span></Link>\n            </div>\n\n    )\n}\n\nexport default IngredientsItem;\n","import React, {useRef, useState} from 'react';\nimport styles from './burger-ingredients.module.css';\nimport { Tab } from '@ya.praktikum/react-developer-burger-ui-components';\nimport {useSelector} from '../../services/hooks';\nimport {RootState} from \"../../services/reducers\";\nimport IngredientsItem from \"./ingredients-item\";\nimport {TEntity} from \"../../types\";\n\nexport type TBurgerIngredientsProps = {\n    handleOpenModal: (e: React.MouseEvent<HTMLElement>) => void\n}\n\nconst BurgerIngredients:React.FC<TBurgerIngredientsProps> = ({handleOpenModal}) => {\n    const data:Array<TEntity> = useSelector((store: RootState) => store.ingredients.entities)\n    const [current, setCurrent] = useState('one')\n\n    const divWrap = useRef<HTMLDivElement>(null);\n    const divBun = useRef<HTMLDivElement>(null);\n    const divMain = useRef<HTMLDivElement>(null);\n    const divSouce = useRef<HTMLDivElement>(null);\n    const offsetCorrect = (divBun.current != null ) ? divBun.current.offsetTop : 0;\n\n    const onScroll = () => {\n        const scrollTopDivWrap = (divWrap.current != null ) ? divWrap.current.scrollTop : 0;\n        const offsetTopDivBun = (divBun.current != null ) ? divBun.current.offsetTop : 0;\n        const offsetTopDivMain = (divMain.current != null ) ? divMain.current.offsetTop : 0;\n        const offsetTopDivSouce = (divSouce.current != null ) ? divSouce.current.offsetTop : 0;\n\n        if (Math.abs(offsetTopDivSouce-scrollTopDivWrap-offsetCorrect) < Math.abs(offsetTopDivMain-scrollTopDivWrap-offsetCorrect)) {\n            setCurrent('three');\n        } else if (Math.abs(offsetTopDivMain-scrollTopDivWrap-offsetCorrect) < Math.abs(offsetTopDivBun-scrollTopDivWrap-offsetCorrect)) {\n            setCurrent('two');\n        } else {\n            setCurrent('one');\n        }\n    }\n\n    return (\n        <section className={`pt-10 mr-8 ${styles.ingredients}`}>\n            <p className=\"text text_type_main-large mb-5\">Соберите бургер</p>\n            <div className={`mb-10 ${styles.tab}`}>\n                <Tab value=\"one\" active={current === 'one'} onClick={setCurrent}>\n                    Булки\n                </Tab>\n                <Tab value=\"two\" active={current === 'two'} onClick={setCurrent}>\n                    Начинки\n                </Tab>\n                <Tab value=\"three\" active={current === 'three'} onClick={setCurrent}>\n                    Соусы\n                </Tab>\n            </div>\n            <div className={styles['item-wrap']} onScroll={onScroll} ref={divWrap}>\n                <div className={styles.items} ref={divBun}>\n                    <p className=\"text text_type_main-medium mb-6\">Булки</p>\n                    <div data-testid=\"ingredients\" className={`mb-10 pl-4 pr-4 ${styles['item-subwrap']}`}>\n                        {data\n                            .filter(item => item.type === 'bun')\n                            .map(item =>\n                                <IngredientsItem key={item._id} item={item} />\n                            )\n                        }\n                    </div>\n                </div>\n                <div className={styles.items} ref={divMain}>\n                    <p className=\"text text_type_main-medium mb-6\">Начинки</p>\n                    <div className={`mb-10 pl-4 pr-4 ${styles['item-subwrap']}`}>\n                        {data\n                            .filter(item => item.type === 'main')\n                            .map(item =>\n                                <IngredientsItem key={item._id} item={item} />\n                            )\n                        }\n                    </div>\n                </div>\n                <div className={styles.items} ref={divSouce}>\n                    <p className=\"text text_type_main-medium mb-6\">Соусы</p>\n                    <div className={`mb-10 pl-4 pr-4 ${styles['item-subwrap']}`}>\n                        {data\n                            .filter(item => item.type === 'sauce')\n                            .map(item =>\n                                <IngredientsItem key={item._id} item={item} />\n                            )\n                        }\n                    </div>\n                </div>\n            </div>\n        </section>\n    )\n}\n\nexport default BurgerIngredients;","import {createBrowserHistory} from \"history\";\n\nexport const history = createBrowserHistory();","import { createSlice, PayloadAction } from '@reduxjs/toolkit';\nimport {TItem} from \"../../types\";\n\ntype TCount = {\n    _id: string,\n    qty: number\n}\n\ntype TLoadItem = {\n    item: TItem\n}\n\ntype ConstructorState = {\n    items: Array<TItem>,\n    count: Array<TCount>\n}\n\nconst initialState: ConstructorState = {\n    items: [],\n    count: []\n}\n\nexport const constructors = createSlice({\n    name: 'constructors',\n    initialState,\n    reducers: {\n        add: (state, action:PayloadAction<TItem>) => {\n            var idis = state.items.map(item => item._id)\n\n            if (action.payload.type === \"bun\") {\n                if (idis.includes(action.payload._id)) {\n                    // Такая булка уже у нас в конструкторе, ничего не делаем\n                } else {\n                    // Новая булка, удаляем старую\n                    state.items.filter(item => item.type === \"bun\").map(item => state.count = state.count.filter(citem => citem._id !== item._id))\n                    state.count.push({_id: action.payload._id, qty: 2})\n                    state.items = state.items.filter(item => item.type !== \"bun\")\n                    state.items.unshift(action.payload)\n                }\n            } else {\n                (state.count.filter(item => item._id === action.payload._id).length > 0)\n                    ?\n                    state.count = state.count.map(item =>\n                        (item._id === action.payload._id) ? {...item, qty: ++item.qty} : item\n                    )\n                    : state.count.push({_id: action.payload._id, qty: 1})\n                state.items.push(action.payload)\n            }\n        },\n        del: (state, action:PayloadAction<TLoadItem>) => {\n            state.count = state.count.map((item) => {\n                if (item._id === action.payload.item._id) {\n                    state.items = state.items.filter(item => item.customId !== action.payload.item.customId)\n                    return {_id: action.payload.item._id, qty: item.qty - 1}\n                } else {\n                    return item\n                }\n            })\n        },\n        update: (state, action:PayloadAction<Array<TItem>>) => {\n            state.items = action.payload\n        },\n        clear: (state) => {\n            console.log('clear')\n            state.items = []\n            state.count = []\n        }\n    }\n});\n\nexport const { add, del, update, clear } = constructors.actions;\nexport const constructorsAction = constructors.actions;\nexport default constructors.reducer;","import React, {useRef} from 'react';\nimport {ConstructorElement, DragIcon} from \"@ya.praktikum/react-developer-burger-ui-components\";\nimport {constructors} from \"../../services/slices/constructors\";\nimport {useDispatch} from '../../services/hooks';\nimport {useDrag, useDrop} from 'react-dnd';\nimport {TItem} from \"../../types\";\n\ntype TConstructorItemProps = {\n    item: TItem,\n    index: number,\n    id: string,\n    moveConstructorItem: (dragIndex:number, hoverIndex:number) => void\n}\n\nconst ConstructorItem:React.FC<TConstructorItemProps> = ({item, index, id, moveConstructorItem}) => {\n    const dispatch = useDispatch();\n\n    const delFromConstructor = (item:TItem):void => {\n        dispatch(constructors.actions.del({item}))\n    }\n\n    const ref = useRef<HTMLLIElement>(null);\n    const [{ handlerId }, drop] = useDrop({\n        accept: 'citem',\n        collect(monitor) {\n            return {\n                handlerId: monitor.getHandlerId(),\n            };\n        },\n        hover(item:TConstructorItemProps, monitor) {\n            if (!ref.current) {\n                return;\n            }\n            const dragIndex = item.index;\n            const hoverIndex = index;\n            // Don't replace items with themselves\n            if (dragIndex === hoverIndex) {\n                return;\n            }\n            // Determine rectangle on screen\n            const hoverBoundingRect = ref.current?.getBoundingClientRect();\n            // Get vertical middle\n            const hoverMiddleY = (hoverBoundingRect.bottom - hoverBoundingRect.top) / 2;\n            // Determine mouse position\n            const clientOffset = monitor.getClientOffset();\n            // Get pixels to the top\n            const hoverClientY = (clientOffset) ? clientOffset.y - hoverBoundingRect.top : 0;\n            // Only perform the move when the mouse has crossed half of the items height\n            // When dragging downwards, only move when the cursor is below 50%\n            // When dragging upwards, only move when the cursor is above 50%\n            // Dragging downwards\n            if (dragIndex < hoverIndex && hoverClientY < hoverMiddleY) {\n                return;\n            }\n            // Dragging upwards\n            if (dragIndex > hoverIndex && hoverClientY > hoverMiddleY) {\n                return;\n            }\n            // Time to actually perform the action\n            moveConstructorItem(dragIndex, hoverIndex);\n            // Note: we're mutating the monitor item here!\n            // Generally it's better to avoid mutations,\n            // but it's good here for the sake of performance\n            // to avoid expensive index searches.\n            item.index = hoverIndex;\n        },\n    });\n    const [{ isDragging }, drag] = useDrag({\n        type: 'citem',\n        item: () => {\n            return { id, index };\n        },\n        collect: (monitor) => ({\n            isDragging: monitor.isDragging(),\n        }),\n    });\n    const opacity = isDragging ? 0 : 1;\n    drag(drop(ref));\n\n\n    return (\n        <li ref={ref} style={{opacity}} data-handler-id={handlerId} key={item.customId} className=\"mb-4\" data-modaltype='Ingredients' data-item={JSON.stringify(item)}><DragIcon type=\"primary\" /><ConstructorElement text={item.name} price={item.price} thumbnail={item.image} handleClose={()=>delFromConstructor(item)} /></li>\n    )\n}\n\nexport default ConstructorItem;","import React, {useCallback} from 'react';\nimport styles from \"./burger-construction.module.css\";\nimport {ConstructorElement, CurrencyIcon, Button} from \"@ya.praktikum/react-developer-burger-ui-components\";\nimport {useDispatch, useSelector} from '../../services/hooks';\nimport {RootState} from \"../../services/reducers\";\nimport {history} from \"../../services/reducers/history\";\nimport { useDrop } from 'react-dnd';\nimport {constructors} from \"../../services/slices/constructors\";\nimport ConstructorItem from \"./constructor-item\";\nimport update from 'immutability-helper';\nimport {useLocation} from 'react-router-dom'\nimport {TItem} from \"../../types\";\n\nexport type TBurgerConstructorProps = {\n    handleOpenModal: () => void\n}\n\nconst BurgerConstructor:React.FC<TBurgerConstructorProps> = ({handleOpenModal}) => {\n    const location = useLocation();\n    const dispatch = useDispatch();\n    const data = useSelector((store: RootState) => store.constructors.items)\n    const amount = data.reduce(function(previousValue, currentValue, index, array) {\n        return previousValue + currentValue.price * ((currentValue.type === \"bun\") ? 2 : 1);\n    }, 0)\n    const isBun = data.filter(item => item.type === \"bun\").length\n\n    const [, drop] = useDrop(\n        () => ({\n            accept: 'items',\n            drop: (item:TItem) => {\n                var customId = \"id_\"+Math.random();\n                dispatch(constructors.actions.add({...item, customId}))\n            }\n        })\n    )\n\n    const moveConstructorItem = useCallback((dragIndex, hoverIndex) => {\n        const dragConstructorItem = data[dragIndex];\n        dispatch(constructors.actions.update(\n            (update(data, {\n                $splice: [\n                    [dragIndex, 1],\n                    [hoverIndex, 0, dragConstructorItem],\n                ],\n            }))\n        ))\n    }, [data, dispatch]);\n\n\n    const isLoading = useSelector((store: RootState) => store.user.loading)\n    const isAuth = useSelector((store: RootState) => !!store.user.data)\n\n    if (isLoading === 'loading') {\n        return null\n    }\n\n    return (\n        <section data-testid=\"constructor\" className={`pt-25 ${styles.ingredients}`} ref={drop}>\n            {\n                data.filter(item => item.type === 'bun').map((item) => {\n                    return (<div key={item.customId +'top'} className=\"ml-8 mb-4\"><ConstructorElement type=\"top\" isLocked={true} text={item.name + ' (верх)'} price={item.price} thumbnail={item.image} /></div>)\n                })\n            }\n            <ul className={`${styles['item-wrap']}`}>\n            {data.filter(item => item.type !== 'bun').map((item, index) => {\n                return <ConstructorItem key={item.customId} item={item} index={index+isBun} id={item.customId} moveConstructorItem={moveConstructorItem} />\n            })}\n            </ul>\n            {\n                data.filter(item => item.type === 'bun').map((item) => {\n                    return <div key={item.customId +'bottom'} className=\"ml-8 mt-4\"><ConstructorElement type=\"bottom\" isLocked={true} text={item.name + ' (низ)'} price={item.price} thumbnail={item.image} /></div>\n                })\n            }\n            <div className={`${styles.total} mt-10`}>\n                <span className={`${styles['total-price']} text text_type_digits-medium mr-10`}>\n                    {amount} <CurrencyIcon type=\"primary\" />\n                </span>\n                {\n                    isAuth ? <Button data-testid=\"authprofile\" type=\"primary\" size=\"large\" onClick={handleOpenModal}>Оформить заказ</Button>\n                    :<Button data-testid=\"profile\" type=\"primary\" size=\"large\" onClick={()=>{history.push('/login', {from: location})}}>Оформить заказ</Button>\n                }\n            </div>\n        </section>\n    )\n}\n\nexport default BurgerConstructor;\n","import React from 'react';\nimport styles from './modal-overlay.module.css';\n\ntype TModalOverlayProps = {\n    handleCloseModal: ()=>void,\n}\n\nconst ModalOverlay:React.FC<TModalOverlayProps> = ({handleCloseModal, children}) => {\n    return (\n        <div className={styles.overlay} onClick={handleCloseModal}>\n            {children}\n        </div>\n    )\n}\n\nexport default ModalOverlay;\n\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport ModalOverlay from \"../modal-overlay/modal-overlay\";\nimport styles from './modal.module.css';\nimport {CloseIcon} from \"@ya.praktikum/react-developer-burger-ui-components\";\n\ntype TModalProps = {\n    handleCloseModal: ()=>void,\n}\n\nconst Modal:React.FC<TModalProps> = ({handleCloseModal, children}) => {\n    const modalRoot:HTMLElement|null = document.getElementById(\"react-modals\");\n\n    // Возвращаем ReactDOM.createPortal,\n    // который поместит дочерние элементы в react-modals\n    return modalRoot && ReactDOM.createPortal(<ModalOverlay handleCloseModal={handleCloseModal} >\n        <div onClick={(e)=>{ e.stopPropagation()}} className={styles.modal + ' pt-10'}>\n            <header className={'mr-10 ml-10 text text_type_main-medium ' + styles.header}>\n                <CloseIcon type=\"primary\" onClick={handleCloseModal} />\n            </header>\n            <section>{children}</section>\n        </div>\n    </ModalOverlay>, modalRoot);\n}\n\nexport default Modal;\n","import React, {useEffect, useState} from 'react';\nimport styles from './ingredient-details.module.css'\nimport { useParams } from \"react-router-dom\";\nimport {useSelector} from '../../services/hooks';\nimport {RootState} from \"../../services/reducers\";\nimport {TEntity} from \"../../types\";\n\ntype TRouteParams = {\n    id: string;\n}\n\nconst IngredientDetails:React.FC = () => {\n    const [ing, setIng] = useState<TEntity>()\n    const data:Array<TEntity> = useSelector((store: RootState) => store.ingredients.entities)\n    const isLoading = useSelector((store: RootState) => store.ingredients.loading)\n    let { id } = useParams<TRouteParams>();\n\n    useEffect(()=>{\n        data.filter(item => item._id === id).map(item =>\n            setIng(item)\n        )\n    }, [data, id])\n\n    if (isLoading === 'loading' || !ing) {\n        return null\n    }\n\n    return (\n        <div>\n            <header className={'mr-10 ml-10 text text_type_main-medium ' + styles.header}>\n                <span>Детали ингредиента</span>\n            </header>\n            <section>\n                <div className={styles.wrap}>\n                    <img className={styles.img + \" pl-4 pr-4 mb-4\"} src={ing.image_large} alt={ing.name}/>\n                    <span className={styles.name + \" text text_type_main-medium mb-8\"}>{ing.name}</span>\n                    <ul className={styles.list + \" mb-15\"}>\n                        <li className={styles.item + \" text text_type_main-default text_color_inactive\"}>Калории, ккал<br /><span className=\"text_type_digits-default\">{ing.calories}</span></li>\n                        <li className={styles.item + \" text text_type_main-default text_color_inactive ml-5\"}>Белки, г<br /><span className=\"text_type_digits-default\">{ing.proteins}</span></li>\n                        <li className={styles.item + \" text text_type_main-default text_color_inactive ml-5\"}>Жиры, г<br /><span className=\"text_type_digits-default\">{ing.fat}</span></li>\n                        <li className={styles.item + \" text text_type_main-default text_color_inactive ml-5\"}>Углеводы, г<br /><span className=\"text_type_digits-default\">{ing.carbohydrates}</span></li>\n                    </ul>\n                </div>\n            </section>\n        </div>\n\n    )\n}\n\nexport default IngredientDetails;\n\n","import React, {useEffect} from 'react';\nimport {CheckMarkIcon} from \"@ya.praktikum/react-developer-burger-ui-components\";\nimport styles from './order-details.module.css'\nimport {useDispatch, useSelector} from '../../services/hooks';\nimport {RootState} from \"../../services/reducers\";\nimport {constructors} from \"../../services/slices/constructors\";\n\n\n\nconst OrderDetails:React.FC = () => {\n    const dispatch = useDispatch();\n    const order = useSelector((store: RootState) => store.order.order)\n    var number = '----';\n    if (order && order.order !== undefined) {\n        number = order.order.number.toString()\n    }\n    useEffect(() => {\n        return () => {\n            dispatch(constructors.actions.clear());\n        }\n    }, [dispatch])\n\n    return (\n        <div className={styles.wrap}>\n            <span data-testid=\"number\" className=\"text text_type_digits-large\">{number}</span>\n            <span className=\"text text_type_main-default mt-8 mb-15\">идентификатор заказа</span>\n            <CheckMarkIcon type=\"primary\" />\n            <span className={styles.text + \" text text_type_main-default mt-15\"}>Ваш заказ начали готовить</span>\n            <span className={styles.text + \" text text_type_main-default text_color_inactive mt-2 mb-30\"}>Дождитесь готовности на орбиральной станции</span>\n        </div>\n    )\n}\n\nexport default OrderDetails;\n","import {createSlice, PayloadAction} from '@reduxjs/toolkit';\nimport {TEntity} from \"../../types\";\n\ntype TCurrentState = {\n    cur: TEntity|null\n}\n\nconst initialState:TCurrentState = {\n    cur: null\n}\n\nexport const current = createSlice({\n    name: 'current',\n    initialState,\n    reducers: {\n        add: (state, action:PayloadAction<TEntity>) => {\n            state.cur = action.payload\n        },\n        del: state => {\n            state.cur = null\n        }\n    }\n});\n\nexport const { add, del } = current.actions;\nexport default current.reducer;","const data = [\n    {\n        \"_id\":\"60666c42cc7b410027a1a9b1\",\n        \"name\":\"Краторная булка N-200i\",\n        \"type\":\"bun\",\n        \"proteins\":80,\n        \"fat\":24,\n        \"carbohydrates\":53,\n        \"calories\":420,\n        \"price\":1255,\n        \"image\":\"https://code.s3.yandex.net/react/code/bun-02.png\",\n        \"image_mobile\":\"https://code.s3.yandex.net/react/code/bun-02-mobile.png\",\n        \"image_large\":\"https://code.s3.yandex.net/react/code/bun-02-large.png\",\n        \"__v\":0\n    },\n    {\n        \"_id\":\"60666c42cc7b410027a1a9b5\",\n        \"name\":\"Говяжий метеорит (отбивная)\",\n        \"type\":\"main\",\n        \"proteins\":800,\n        \"fat\":800,\n        \"carbohydrates\":300,\n        \"calories\":2674,\n        \"price\":3000,\n        \"image\":\"https://code.s3.yandex.net/react/code/meat-04.png\",\n        \"image_mobile\":\"https://code.s3.yandex.net/react/code/meat-04-mobile.png\",\n        \"image_large\":\"https://code.s3.yandex.net/react/code/meat-04-large.png\",\n        \"__v\":0\n    },\n    {\n        \"_id\":\"60666c42cc7b410027a1a9b6\",\n        \"name\":\"Биокотлета из марсианской Магнолии\",\n        \"type\":\"main\",\n        \"proteins\":420,\n        \"fat\":142,\n        \"carbohydrates\":242,\n        \"calories\":4242,\n        \"price\":424,\n        \"image\":\"https://code.s3.yandex.net/react/code/meat-01.png\",\n        \"image_mobile\":\"https://code.s3.yandex.net/react/code/meat-01-mobile.png\",\n        \"image_large\":\"https://code.s3.yandex.net/react/code/meat-01-large.png\",\n        \"__v\":0\n    },\n    {\n        \"_id\":\"60666c42cc7b410027a1a9b7\",\n        \"name\":\"Соус Spicy-X\",\n        \"type\":\"sauce\",\n        \"proteins\":30,\n        \"fat\":20,\n        \"carbohydrates\":40,\n        \"calories\":30,\n        \"price\":90,\n        \"image\":\"https://code.s3.yandex.net/react/code/sauce-02.png\",\n        \"image_mobile\":\"https://code.s3.yandex.net/react/code/sauce-02-mobile.png\",\n        \"image_large\":\"https://code.s3.yandex.net/react/code/sauce-02-large.png\",\n        \"__v\":0\n    },\n    {\n        \"_id\":\"60666c42cc7b410027a1a9b4\",\n        \"name\":\"Мясо бессмертных моллюсков Protostomia\",\n        \"type\":\"main\",\n        \"proteins\":433,\n        \"fat\":244,\n        \"carbohydrates\":33,\n        \"calories\":420,\n        \"price\":1337,\n        \"image\":\"https://code.s3.yandex.net/react/code/meat-02.png\",\n        \"image_mobile\":\"https://code.s3.yandex.net/react/code/meat-02-mobile.png\",\n        \"image_large\":\"https://code.s3.yandex.net/react/code/meat-02-large.png\",\n        \"__v\":0\n    },\n    {\n        \"_id\":\"60666c42cc7b410027a1a9b9\",\n        \"name\":\"Соус традиционный галактический\",\n        \"type\":\"sauce\",\n        \"proteins\":42,\n        \"fat\":24,\n        \"carbohydrates\":42,\n        \"calories\":99,\n        \"price\":15,\n        \"image\":\"https://code.s3.yandex.net/react/code/sauce-03.png\",\n        \"image_mobile\":\"https://code.s3.yandex.net/react/code/sauce-03-mobile.png\",\n        \"image_large\":\"https://code.s3.yandex.net/react/code/sauce-03-large.png\",\n        \"__v\":0\n    },\n    {\n        \"_id\":\"60666c42cc7b410027a1a9b8\",\n        \"name\":\"Соус фирменный Space Sauce\",\n        \"type\":\"sauce\",\n        \"proteins\":50,\n        \"fat\":22,\n        \"carbohydrates\":11,\n        \"calories\":14,\n        \"price\":80,\n        \"image\":\"https://code.s3.yandex.net/react/code/sauce-04.png\",\n        \"image_mobile\":\"https://code.s3.yandex.net/react/code/sauce-04-mobile.png\",\n        \"image_large\":\"https://code.s3.yandex.net/react/code/sauce-04-large.png\",\n        \"__v\":0\n    },\n    {\n        \"_id\":\"60666c42cc7b410027a1a9bc\",\n        \"name\":\"Плоды Фалленианского дерева\",\n        \"type\":\"main\",\n        \"proteins\":20,\n        \"fat\":5,\n        \"carbohydrates\":55,\n        \"calories\":77,\n        \"price\":874,\n        \"image\":\"https://code.s3.yandex.net/react/code/sp_1.png\",\n        \"image_mobile\":\"https://code.s3.yandex.net/react/code/sp_1-mobile.png\",\n        \"image_large\":\"https://code.s3.yandex.net/react/code/sp_1-large.png\",\n        \"__v\":0\n    },\n    {\n        \"_id\":\"60666c42cc7b410027a1a9bb\",\n        \"name\":\"Хрустящие минеральные кольца\",\n        \"type\":\"main\",\n        \"proteins\":808,\n        \"fat\":689,\n        \"carbohydrates\":609,\n        \"calories\":986,\n        \"price\":300,\n        \"image\":\"https://code.s3.yandex.net/react/code/mineral_rings.png\",\n        \"image_mobile\":\"https://code.s3.yandex.net/react/code/mineral_rings-mobile.png\",\n        \"image_large\":\"https://code.s3.yandex.net/react/code/mineral_rings-large.png\",\n        \"__v\":0\n    },\n    {\n        \"_id\":\"60666c42cc7b410027a1a9ba\",\n        \"name\":\"Соус с шипами Антарианского плоскоходца\",\n        \"type\":\"sauce\",\n        \"proteins\":101,\n        \"fat\":99,\n        \"carbohydrates\":100,\n        \"calories\":100,\n        \"price\":88,\n        \"image\":\"https://code.s3.yandex.net/react/code/sauce-01.png\",\n        \"image_mobile\":\"https://code.s3.yandex.net/react/code/sauce-01-mobile.png\",\n        \"image_large\":\"https://code.s3.yandex.net/react/code/sauce-01-large.png\",\n        \"__v\":0\n    },\n    {\n        \"_id\":\"60666c42cc7b410027a1a9bd\",\n        \"name\":\"Кристаллы марсианских альфа-сахаридов\",\n        \"type\":\"main\",\n        \"proteins\":234,\n        \"fat\":432,\n        \"carbohydrates\":111,\n        \"calories\":189,\n        \"price\":762,\n        \"image\":\"https://code.s3.yandex.net/react/code/core.png\",\n        \"image_mobile\":\"https://code.s3.yandex.net/react/code/core-mobile.png\",\n        \"image_large\":\"https://code.s3.yandex.net/react/code/core-large.png\",\n        \"__v\":0\n    },\n    {\n        \"_id\":\"60666c42cc7b410027a1a9be\",\n        \"name\":\"Мини-салат Экзо-Плантаго\",\n        \"type\":\"main\",\n        \"proteins\":1,\n        \"fat\":2,\n        \"carbohydrates\":3,\n        \"calories\":6,\n        \"price\":4400,\n        \"image\":\"https://code.s3.yandex.net/react/code/salad.png\",\n        \"image_mobile\":\"https://code.s3.yandex.net/react/code/salad-mobile.png\",\n        \"image_large\":\"https://code.s3.yandex.net/react/code/salad-large.png\",\n        \"__v\":0\n    },\n    {\n        \"_id\":\"60666c42cc7b410027a1a9b3\",\n        \"name\":\"Филе Люминесцентного тетраодонтимформа\",\n        \"type\":\"main\",\n        \"proteins\":44,\n        \"fat\":26,\n        \"carbohydrates\":85,\n        \"calories\":643,\n        \"price\":988,\n        \"image\":\"https://code.s3.yandex.net/react/code/meat-03.png\",\n        \"image_mobile\":\"https://code.s3.yandex.net/react/code/meat-03-mobile.png\",\n        \"image_large\":\"https://code.s3.yandex.net/react/code/meat-03-large.png\",\n        \"__v\":0\n    },\n    {\n        \"_id\":\"60666c42cc7b410027a1a9bf\",\n        \"name\":\"Сыр с астероидной плесенью\",\n        \"type\":\"main\",\n        \"proteins\":84,\n        \"fat\":48,\n        \"carbohydrates\":420,\n        \"calories\":3377,\n        \"price\":4142,\n        \"image\":\"https://code.s3.yandex.net/react/code/cheese.png\",\n        \"image_mobile\":\"https://code.s3.yandex.net/react/code/cheese-mobile.png\",\n        \"image_large\":\"https://code.s3.yandex.net/react/code/cheese-large.png\",\n        \"__v\":0\n    },\n    {\n        \"_id\":\"60666c42cc7b410027a1a9b2\",\n        \"name\":\"Флюоресцентная булка R2-D3\",\n        \"type\":\"bun\",\n        \"proteins\":44,\n        \"fat\":26,\n        \"carbohydrates\":85,\n        \"calories\":643,\n        \"price\":988,\n        \"image\":\"https://code.s3.yandex.net/react/code/bun-01.png\",\n        \"image_mobile\":\"https://code.s3.yandex.net/react/code/bun-01-mobile.png\",\n        \"image_large\":\"https://code.s3.yandex.net/react/code/bun-01-large.png\",\n        \"__v\":0\n    }\n]\n\nexport default data;\n\nexport const apiURL = 'https://norma.nomoreparties.space/api/'","import {apiURL} from \"./data\";\nimport {history} from \"../services/reducers/history\";\n\nexport const checkReponse = (res: Response) => {\n    return res.ok ? res.json() : res.json().then((err) => Promise.reject(err));\n};\n\nexport const refreshToken = () => {\n    return fetch(apiURL+'auth/token', {\n        method: \"POST\",\n        headers: {\n            \"Content-Type\": \"application/json;charset=utf-8\",\n        },\n        body: JSON.stringify({\n            token: localStorage.getItem(\"refreshToken\"),\n        }),\n    }).then((res) => checkReponse(res));\n};\n\nexport const fetchWithRefresh = async (url, options) => {\n    try {\n        const res = await fetch(url, options);\n        return await checkReponse(res);\n    } catch (err) {\n        if (err instanceof Error && err.message === \"jwt expired\") {\n            const refreshData = await refreshToken(); //обновляем токен\n            localStorage.setItem(\"refreshToken\", refreshData.refreshToken);\n            setCookie(\"accessToken\", refreshData.accessToken);\n            options.headers.authorization = refreshData.accessToken;\n            const res = await fetch(url, options); //повторяем запрос\n            return await checkReponse(res);\n        } else {\n            return Promise.reject(err);\n        }\n    }\n};\n\nexport const forgotPassword = async (e, error:boolean, email:string) => {\n    e.preventDefault()\n    if (!error && email !== '') {\n        localStorage.setItem('forgot', 'yes')\n\n        await fetch('https://norma.nomoreparties.space/api/password-reset', {\n            method: 'POST',\n            headers: {\n                'Content-Type': 'application/json'\n            },\n            body: JSON.stringify({email: email})\n        })\n        .then((res) => checkReponse(res))\n        .then(data => {\n            console.log(data.success?'ok':'error')\n            history.push('/reset-password')\n        })\n        .catch(() => console.log('some error'))\n    }\n}\n\nexport const resetPassword = async (e, password, token) => {\n    e.preventDefault()\n    await fetch(apiURL+'password-reset/reset', {\n        method: 'POST',\n        headers: {\n            'Content-Type': 'application/json'\n        },\n        body: JSON.stringify({password, token})\n    })\n    .then((res) => checkReponse(res))\n    .then(data => {\n        console.log(data)\n        localStorage.removeItem('forgot')\n        history.push('/login')\n    })\n    .catch(() => console.log('some error'))\n}\n\n// возвращает куки с указанным name,\n// или undefined, если ничего не найдено\nexport function getCookie(name) {\n    let matches = document.cookie.match(new RegExp(\n        \"(?:^|; )\" + name.replace(/([.$?*|{}()[\\]\\\\/+^])/g, '\\\\$1') + \"=([^;]*)\"\n    ));\n    return matches ? decodeURIComponent(matches[1]) : undefined;\n}\n\nexport function deleteCookie(name) {\n    setCookie(name, \"\", {\n        'max-age': -1\n    })\n}\n\nexport function setCookie(name, value, options = {}) {\n    options = {\n        path: '/',\n        // при необходимости добавьте другие значения по умолчанию\n        ...options\n    };\n\n    let updatedCookie = encodeURIComponent(name) + \"=\" + encodeURIComponent(value);\n\n    for (let optionKey in options) {\n        updatedCookie += \"; \" + optionKey;\n        let optionValue = options[optionKey];\n        if (optionValue !== true) {\n            updatedCookie += \"=\" + optionValue;\n        }\n    }\n    document.cookie = updatedCookie;\n}","import {AnyAction, createAsyncThunk, createSlice, PayloadAction} from '@reduxjs/toolkit';\nimport {push} from \"connected-react-router\";\nimport {getCookie, setCookie, fetchWithRefresh, deleteCookie} from '../../utils/utils'\nimport {apiURL} from \"../../utils/data\";\n\nexport type AuthUser = {\n    email: string,\n    name: string,\n}\n\ninterface UserState {\n    data: AuthUser | null,\n    loading: string\n}\n\nconst initialState: UserState = {\n    data: null,\n    loading: 'idle'\n}\n\ntype TUserPayload = {\n    user: AuthUser,\n    accessToken?: string,\n    success: boolean\n}\n\nexport const sliceName = \"user\";\n\nexport const registerUser = createAsyncThunk(\n    `${sliceName}/registerUser`,\n    async (registerData:any, {dispatch}) => {\n        const response = await fetch(apiURL+'auth/register',\n            {\n                method: 'POST',\n                headers: {\n                    'Content-Type': 'application/json',\n                },\n                body: registerData\n            })\n        const data = await response.json()\n        dispatch(push('/login'))\n        if (data.success)\n            localStorage.setItem('refreshToken', data.refreshToken)\n        return data\n    }\n)\n\nexport const loginUser = createAsyncThunk(\n    `${sliceName}/loginUser`,\n    async (loginData:any, {dispatch}) => {\n\n        const response = await fetch(apiURL+'auth/login',\n            {\n                method: 'POST',\n                headers: {\n                    'Content-Type': 'application/json',\n                },\n                body: loginData\n            })\n        const data = await response.json()\n        //dispatch(push('/'))\n        if (data.success)\n            localStorage.setItem('refreshToken', data.refreshToken)\n        return data\n    }\n)\n\nexport const logoutUser = createAsyncThunk(\n    `${sliceName}/logoutUser`,\n    async (logoutData:any, {dispatch}) => {\n\n        const response = await fetch(apiURL+'auth/logout',\n            {\n                method: 'POST',\n                headers: {\n                    'Content-Type': 'application/json',\n                },\n                body: logoutData\n            })\n        const data = await response.json()\n        return data\n    }\n)\n\n\nexport const getUser = createAsyncThunk<AnyAction>(\n    `${sliceName}/getUser`,\n    async () => {\n        const token = getCookie('accessToken');\n        if (token) {\n            const data = fetchWithRefresh(apiURL+'auth/user',\n                {\n                    method: 'GET',\n                    headers: {\n                        'Content-Type': 'application/json',\n                        Authorization: 'Bearer ' + getCookie('accessToken')\n                    }\n                })\n            return data\n        }\n        return Promise.reject(\"Нет токена\");\n    }\n)\n\n// Then, handle actions in your reducers:\nexport const user = createSlice({\n    name: 'user',\n    initialState,\n    reducers: {\n        setUserData(state, action: PayloadAction<AuthUser | null>) {\n            state.data = action.payload;\n        },\n    },\n    extraReducers: (builder) => {\n        builder.addCase(registerUser.fulfilled, (state, action:PayloadAction<TUserPayload>) => {\n            //console.log(action.payload);\n            state.data = action.payload.user\n            if (action.payload.accessToken !== undefined) {\n                // Сохраняем токен в куку accessToken\n                setCookie('accessToken', action.payload.accessToken.split('Bearer ')[1]);\n            }\n        });\n        builder.addCase(loginUser.fulfilled, (state, action:PayloadAction<TUserPayload>) => {\n            console.log(action.payload);\n            state.data = action.payload.user\n            if (action.payload.accessToken !== undefined) {\n                // Сохраняем токен в куку accessToken\n                setCookie('accessToken', action.payload.accessToken.split('Bearer ')[1]);\n            }\n        });\n        builder.addCase(getUser.pending, (state) => {\n            state.loading = 'loading'\n        });\n\n        builder.addCase(getUser.fulfilled, (state, action) => {\n            state.data = action.payload.user;\n            state.loading = 'idle';\n        });\n\n        builder.addCase(getUser.rejected, (state) => {\n            state.loading = 'idle'\n        });\n        builder.addCase(logoutUser.pending, (state) => {\n            state.loading = 'loading'\n        });\n        builder.addCase(logoutUser.fulfilled, (state, action:PayloadAction<TUserPayload>) => {\n            //console.log(action.payload)\n            if (action.payload.success) {\n                localStorage.removeItem(\"refreshToken\");\n                deleteCookie('accessToken')\n                state.data = null\n            }\n            state.loading = 'idle'\n        });\n        builder.addCase(logoutUser.rejected, (state) => {\n            state.loading = 'idle'\n        });\n\n    },\n})\n\nconst { actions } = user;\nexport const userAction = user.actions;\nexport const { setUserData } = actions;\nexport default user.reducer;","import React, {useState, useRef} from 'react';\nimport { Link, Redirect, useLocation } from 'react-router-dom'\nimport styles from './login.module.css'\nimport {Input, Button} from \"@ya.praktikum/react-developer-burger-ui-components\";\nimport {loginUser} from \"../services/slices/user\";\nimport {useDispatch, useSelector} from '../services/hooks';\nimport {TPassword} from \"../types\";\nimport {RootState} from \"../services/reducers\";\n\ntype TLocationState = {\n    from: string\n}\n\nexport const LoginPage = () => {\n    const [valueEmail, setValueEmail] = useState<string>('')\n    const [valuePassword, setValuePassword] = useState<string>('')\n    const [typePassword, setTypePassword] = useState<TPassword>({type:'password', icon:'ShowIcon'})\n    const inputEmailRef = useRef<HTMLInputElement>(null)\n    const inputPasswordRef = useRef<HTMLInputElement>(null)\n    const location = useLocation<TLocationState>();\n    const showPassword = ():void => {\n        if (typePassword.type === 'text') {\n            setTypePassword({type:'password', icon: 'ShowIcon'});\n        } else {\n            setTypePassword({type:'text', icon: 'HideIcon'});\n        }\n\n    }\n\n    const dispatch = useDispatch()\n\n    const onSubmitHandle = (e) => {\n        e.preventDefault()\n        if (inputEmailRef.current !== null && inputPasswordRef.current !== null) {\n            let email = inputEmailRef.current.value;\n            let password = inputPasswordRef.current.value;\n            dispatch(loginUser(JSON.stringify({\n                email: email,\n                password: password,\n            })));\n        }\n    }\n\n    const isLoading = useSelector((store: RootState) => store.user.loading)\n    const isAuth = useSelector((store: RootState) => !!store.user.data)\n\n    if (isLoading === 'loading') {\n        return null\n    }\n\n    if (isAuth) {\n        return (\n            <Redirect to={(location.state) ? location.state.from : '/'} />\n        )\n    }\n\n    return (\n        <div className={styles.wrap + \" pt-20\"}>\n            <p className=\"text text_type_main-medium pb-10\">Вход</p>\n            <form onSubmit={onSubmitHandle} className={styles.form}>\n                <Input type={'text'} placeholder={'E-mail'} onChange={e => setValueEmail(e.target.value)} value={valueEmail} name={'email'} ref={inputEmailRef} size={'default'} /><br />\n                <Input icon={typePassword.icon} type={typePassword.type} placeholder={'Пароль'} onChange={e => setValuePassword(e.target.value)} onIconClick={showPassword} value={valuePassword} name={'password'} ref={inputPasswordRef} size={'default'} /><br />\n                <Button data-testid=\"singin\" type=\"primary\" size=\"medium\">Войти</Button>\n            </form>\n            <p className=\"text text_type_main-default pt-20\">Вы - новый пользователь? <Link className={styles.link} to={{ pathname: `/register/` }}>Зарегистрироваться</Link></p>\n            <p className=\"text text_type_main-default\">Забыли пароль? <Link className={styles.link} to={{ pathname: `/forgot-password/` }}>Восстановить пароль</Link></p>\n        </div>\n    )\n}\n","import React, {useState, useRef} from 'react';\nimport {Link, Redirect} from 'react-router-dom'\nimport styles from './register.module.css'\nimport {Input, Button} from \"@ya.praktikum/react-developer-burger-ui-components\";\nimport {useDispatch, useSelector} from '../services/hooks';\nimport {registerUser} from \"../services/slices/user\";\nimport {TPassword} from \"../types\";\nimport {RootState} from \"../services/reducers\";\n\nexport function RegisterPage() {\n    const [valueName, setValueName] = useState<string>('')\n    const [valueEmail, setValueEmail] = useState<string>('')\n    const [valuePassword, setValuePassword] = useState<string>('')\n    const [typePassword, setTypePassword] = useState<TPassword>({type:'password', icon:'ShowIcon'})\n    const inputNameRef = useRef<HTMLInputElement>(null)\n    const inputEmailRef = useRef<HTMLInputElement>(null)\n    const inputPasswordRef = useRef<HTMLInputElement>(null)\n\n    const dispatch = useDispatch();\n    const showPassword = () => {\n        if (typePassword.type === 'text') {\n            setTypePassword({type:'password', icon: 'ShowIcon'});\n        } else {\n            setTypePassword({type:'text', icon: 'HideIcon'});\n        }\n    }\n\n    const onSubmitHandle = (e):void => {\n        e.preventDefault()\n        dispatch(registerUser(JSON.stringify({\n            email: (inputEmailRef.current !== null)?inputEmailRef.current.value:'',\n            password: (inputPasswordRef.current !== null)?inputPasswordRef.current.value:'',\n            name: (inputNameRef.current !== null)?inputNameRef.current.value:'',\n        })))\n    }\n\n    const isLoading = useSelector((store: RootState) => store.user.loading)\n    const isAuth = useSelector((store: RootState) => !!store.user.data)\n\n    if (isLoading === 'loading') {\n        return null\n    }\n\n    if (isAuth) {\n        return (\n            <Redirect\n                to='/'\n            />\n        )\n    }\n\n    return (\n        <div className={styles.wrap + \" pt-20\"}>\n            <p className=\"text text_type_main-medium pb-10\">Регистрация</p>\n            <form onSubmit={onSubmitHandle} className={styles.wrap}>\n                <Input type={'text'} placeholder={'Имя'} onChange={e => setValueName(e.target.value)} value={valueName} name={'name'} ref={inputNameRef} size={'default'} /><br />\n                <Input type={'text'} placeholder={'E-mail'} onChange={e => setValueEmail(e.target.value)} value={valueEmail} name={'email'} ref={inputEmailRef} size={'default'} /><br />\n                <Input icon={typePassword.icon} type={typePassword.type} placeholder={'Пароль'} onChange={e => setValuePassword(e.target.value)} onIconClick={showPassword} value={valuePassword} name={'password'} ref={inputPasswordRef} size={'default'} /><br />\n                <Button type=\"primary\" size=\"medium\">Зарегистрироваться</Button>\n            </form>\n            <p className=\"text text_type_main-default pt-20\">Уже харегистрированы? <Link className={styles.link} to={{ pathname: `/login/` }}>Войти</Link></p>\n        </div>\n    )\n}\n\n\n","import React, {useState, useRef} from 'react';\nimport {Link, Redirect} from 'react-router-dom'\nimport styles from './forgot-password.module.css'\nimport {Input, Button} from \"@ya.praktikum/react-developer-burger-ui-components\";\nimport {useSelector} from '../services/hooks';\nimport {RootState} from \"../services/reducers\";\nimport {forgotPassword} from \"../utils/utils\";\n\nexport function ForgotPasswordPage() {\n    const [valueEmail, setValueEmail] = useState('')\n    const [errorText, setErrorText] = useState('')\n    const [error, setError] = useState(false)\n    const inputEmailRef = useRef(null)\n\n    const handleOnChange = (e) => {\n        setValueEmail(e.target.value);\n        handleOnBlur(e);\n    }\n\n    const handleOnBlur = ( e ) => {\n        let email = e.target.value;\n        // don't remember from where i copied this code, but this works.\n        let re = /^(([^<>()[\\]\\\\.,;:\\s@\"]+(\\.[^<>()[\\]\\\\.,;:\\s@\"]+)*)|(\".+\"))@((\\[[0-9]{1,3}\\.[0-9]{1,3}\\.[0-9]{1,3}\\.[0-9]{1,3}])|(([a-zA-Z\\-0-9]+\\.)+[a-zA-Z]{2,}))$/;\n        // let re = /^(([^<>()\\[\\]\\\\.,;:\\s@\"]+(\\.[^<>()\\[\\]\\\\.,;:\\s@\"]+)*)|(\".+\"))@((\\[[0-9]{1,3}\\.[0-9]{1,3}\\.[0-9]{1,3}\\.[0-9]{1,3}])|(([a-zA-Z\\-0-9]+\\.)+[a-zA-Z]{2,}))$/;\n\n        if ( re.test(email) ) {\n            setErrorText('');\n            setError(false);\n        }\n        else {\n            // invalid email, maybe show an error to the user.\n            setErrorText('Некорректный e-mail');\n            setError(true);\n        }\n    }\n\n    const isLoading = useSelector((store: RootState) => store.user.loading)\n    const isAuth = useSelector((store: RootState) => !!store.user.data)\n\n    if (isLoading === 'loading') {\n        return null\n    }\n\n    if (isAuth) {\n        return (\n            <Redirect\n                to='/'\n            />\n        )\n    }\n\n    return (\n        <div className={styles.wrap + \" pt-20\"}>\n            <p className=\"text text_type_main-medium pb-10\">Восстановление пароля</p>\n            <form onSubmit={e => forgotPassword(e,error,valueEmail)} className={styles.wrap}>\n                <Input type={'text'} placeholder={'Укажите e-mail'} error={error} errorText={errorText} onChange={handleOnChange} onBlur={handleOnBlur} value={valueEmail} name={'email'} ref={inputEmailRef} size={'default'} /><br />\n                <Button type=\"primary\" size=\"medium\">Восстановить</Button>\n            </form>\n            <p className=\"text text_type_main-default pt-20\">Вспомнили пароль? <Link className={styles.link} to={{ pathname: `/login/` }}>Войти</Link></p>\n        </div>\n    )\n}\n\n\n","export enum WebsocketStatus {\n    CONNECTING = 'CONNECTING...',\n    ONLINE = 'ONLINE',\n    OFFLINE = 'OFFLINE'\n}\n\nexport enum OrderStatus {\n    'created' = 'Создан',\n    'pending' = 'Готовится',\n    'done' = 'Выполнен'\n}\n\nexport type TOrder = {\n    ingredients: Array<string>,\n    _id: string,\n    status: 'created'|'pending'|'done',\n    number: number,\n    createdAt: string,\n    updatedAt: string,\n    name: string\n}\n\nexport type TOrdersList = {\n    success: boolean,\n    orders: Array<TOrder>,\n    total: number,\n    totalToday: number\n}","import React, { useState, useRef} from 'react';\nimport {Link, Redirect} from 'react-router-dom'\nimport styles from './reset-password.module.css'\nimport {Input, Button} from \"@ya.praktikum/react-developer-burger-ui-components\";\nimport {useSelector} from '../services/hooks';\nimport {RootState} from \"../services/reducers\";\nimport {TPassword} from \"../types\";\nimport {resetPassword} from '../utils/utils';\n\nexport const ResetPasswordPage: React.FC = () => {\n    const [valueToken, setValueToken] = useState<string>('')\n    const [valuePassword, setValuePassword] = useState<string>('')\n    const [typePassword, setTypePassword] = useState<TPassword>({type:'password', icon:'ShowIcon'})\n    const inputTokenRef = useRef<HTMLInputElement>(null)\n    const inputPasswordRef = useRef<HTMLInputElement>(null)\n    const showPassword = ():void => {\n        if (typePassword.type === 'text') {\n            setTypePassword({type:'password', icon: 'ShowIcon'});\n        } else {\n            setTypePassword({type:'text', icon: 'HideIcon'});\n        }\n\n    }\n\n    const isLoading = useSelector((store: RootState) => store.user.loading)\n    const isAuth = useSelector((store: RootState) => !!store.user.data)\n    const forgot = localStorage.getItem('forgot')\n\n    if (isLoading === 'loading') {\n        return null\n    }\n\n    if (isAuth || forgot !== 'yes') {\n        return (\n            <Redirect\n                to='/'\n            />\n        )\n    }\n\n    return (\n        <div className={styles.wrap + \" pt-20\"}>\n            <p className=\"text text_type_main-medium pb-10\">Восстановление пароля</p>\n            <form onSubmit={e => resetPassword(e, valuePassword, valueToken)} className={styles.wrap}>\n                <Input icon={typePassword.icon} type={typePassword.type} placeholder={'Введите новый пароль'} onChange={e => setValuePassword(e.target.value)} onIconClick={showPassword} value={valuePassword} name={'password'} ref={inputPasswordRef} size={'default'} /><br />\n                <Input type={'text'} placeholder={'Введите код из письма'} onChange={e => setValueToken(e.target.value)} value={valueToken} name={'code'} ref={inputTokenRef} size={'default'} /><br />\n                <Button type=\"primary\" size=\"medium\">Сохранить</Button>\n            </form>\n            <p className=\"text text_type_main-default pt-20\">Вспомнили пароль? <Link className={styles.link} to={{ pathname: `/login/` }}>Войти</Link></p>\n        </div>\n    )\n}\n\n\n","import { Route, Redirect } from 'react-router-dom';\nimport {useSelector} from '../../services/hooks';\nimport {RootState} from \"../../services/reducers\";\nimport React from \"react\";\nimport {RouteProps} from 'react-router'\n\nconst ProtectedRoute = ({ children, ...props }: RouteProps) => {\n    const isLoading = useSelector((store: RootState) => store.user.loading)\n    const isAuth = useSelector((store: RootState) => !!store.user.data)\n\n    if (isLoading === 'loading') {\n        return null\n    }\n\n    return (\n        <Route\n            {...props}\n            render={({location}) =>\n                isAuth ? (children) : (\n                    // Если пользователя нет в хранилище, происходит переадресация на роут /login\n                    <Redirect\n                        to={{\n                            pathname: '/login',\n                            state: {from: location}\n                        }}\n                    />\n                )\n\n            }\n        />\n    );\n}\n\nexport default ProtectedRoute;\n","import React from 'react';\nimport styles from './orders-list-item.module.css';\nimport {CurrencyIcon} from \"@ya.praktikum/react-developer-burger-ui-components\";\nimport {useLocation, Link} from \"react-router-dom\";\nimport {OrderStatus, TOrder} from \"../../types/orders\";\nimport {TEntity, TLocationState} from \"../../types\";\nimport {useSelector} from '../../services/hooks';\nimport {RootState} from \"../../services/reducers\";\nimport moment from 'moment'\nimport 'moment/locale/ru';\n\ntype TOrderListItemProps = {\n    item: TOrder\n}\n\nconst OrderListItem:React.FC<TOrderListItemProps> = ({item}) => {\n    let price = 0;\n    const location = useLocation<TLocationState>();\n    const data:Array<TEntity> = useSelector((store: RootState) => store.ingredients.entities)\n    moment.locale('RU');\n\n    return (\n        <div className={`pl-6 pt-6 pb-6 mb-6 ${styles.item}`} data-item={JSON.stringify(item)}>\n            <Link className={styles.link}\n                key={item._id}\n                to={{\n                    pathname: `${location.pathname}${item._id}`,\n                    // This is the trick! This link sets\n                    // the `background` in location state.\n                    state: { background: location }\n                }}\n            >\n                <div className={`mb-6 pr-6 ${styles.block}`}>\n                    <span className=\"text text_type_digits-default\">#{item.number}</span>\n                    <span className={`text text_type_main-default text_color_inactive ${styles.date}`}>{moment(item.createdAt).format('HH:mm:ss d MMM')}</span>\n                </div>\n                <span className=\"mb-2 text text_type_main-medium\">{item.name}</span>\n                <span className={`mb-6 text text_type_main-default ${(item.status === 'done')? styles.done : '' }`}>{OrderStatus[item.status]}</span>\n                <div className={`pr-6 ${styles.block}`}>\n                    <div className={`pl-3 ${styles.wrap}`}>\n                        {item.ingredients.map(\n                            ing =>\n                                data.filter(ingdata => ingdata._id === ing)\n                                    .map(it => {\n                                        price += it.price * ((it.type === 'bun')?2:1);\n                                                           return (\n                                            <div key={it._id} className={styles.icon}><img className={`pl-4 pr-4 mb-1 ${styles.image}`}\n                                                                              src={it.image} alt={it.name}/></div>\n                                            )\n                                        }\n                                    )\n                            )\n                        }\n                    </div>\n                    <span className=\"text text_type_digits-default mb-1 price\">{price} <CurrencyIcon type=\"primary\" /></span>\n                </div>\n            </Link>\n        </div>\n    )\n}\n\nexport default OrderListItem;\n","import React from 'react';\nimport styles from './orders-list.module.css';\nimport {useSelector} from '../../services/hooks';\nimport {RootState} from \"../../services/reducers\";\nimport OrdersListItem from \"./orders-list-item\";\nimport {TOrder} from \"../../types/orders\";\n\nconst OrdersList:React.FC = () => {\n    const orders:Array<TOrder>|null = useSelector((store: RootState) => store.orders.orders);\n\n    return (\n        <section className={`${styles.orders}`}>\n            <div className={styles['item-wrap']}>\n                <div className={styles.items}>\n                    <div className={`mb-10 pr-4 ${styles['item-subwrap']}`}>\n                        {orders?.map(item =>\n                                <OrdersListItem key={item._id} item={item} />\n                            )\n                        }\n                    </div>\n                </div>\n            </div>\n        </section>\n    )\n}\n\nexport default OrdersList;","import { createAction } from '@reduxjs/toolkit';\n// Получение списка ингредиентов от API. Используется в компоненте BurgerIngredients.\nexport const GET_LIST_INGREDIENTS = 'GET_LIST_INGREDIENTS';\n// Получение списка ингредиентов для конструктора бургера. Используется в компоненте BurgerConstructor.\nexport const GET_LIST_INGREDIENTS_CONSTRUCTOR = 'GET_LIST_INGREDIENTS_CONSTRUCTOR';\n// Добавление данных о просматриваемом в модальном окне IngredientDetails ингредиенте.\nexport const ADD_CURRENT_VIEW_INGREDIENT = 'ADD_CURRENT_VIEW_INGREDIENT';\n// Удаление данных о просматриваемом в модальном окне ингредиенте при закрытии модального окна.\nexport const DEL_CURRENT_VIEW_INGREDIENT = 'DEL_CURRENT_VIEW_INGREDIENT';\n// Получение и обновление номера заказа в модальном окне OrderDetails.\nexport const GET_ORDER_NUMBER = 'GET_ORDER_NUMBER';\n\n\n\n\nexport const connect = createAction<string, 'ORDERS_LIST_CONNECT'>('ORDERS_LIST_CONNECT');\nexport const disconnect = createAction('ORDERS_LIST_DISCONNECT');\n\n\n\n\n\n","import React, {useEffect} from 'react';\nimport {useDispatch} from '../services/hooks';\nimport OrdersList from \"../components/orders-list/orders-list\";\nimport {connect, disconnect} from \"../services/actions\";\nimport {getCookie} from \"../utils/utils\";\n\nexport function OrdersPage() {\n    const dispatch = useDispatch();\n\n    useEffect(() => {\n        dispatch(connect(\"wss://norma.nomoreparties.space/orders?token=\" + getCookie('accessToken')))\n        return () => {\n            dispatch(disconnect())\n        };\n    }, [dispatch]);\n\n    return (\n        <OrdersList />\n    )\n}\n\n\n","import React, {useState, useRef, useEffect} from 'react';\nimport styles from './profile.module.css'\nimport {Input, Button} from \"@ya.praktikum/react-developer-burger-ui-components\";\nimport {NavLink, useRouteMatch, Switch, Route, Link} from \"react-router-dom\";\nimport ProtectedRoute from \"../components/protected-route/protected-route\";\nimport {logoutUser, setUserData} from \"../services/slices/user\";\nimport {useDispatch, useSelector} from '../services/hooks';\nimport {fetchWithRefresh, getCookie} from \"../utils/utils\";\nimport {apiURL} from \"../utils/data\";\nimport {TPassword} from \"../types\";\nimport {OrdersPage} from \"./orders\";\nimport {RootState} from \"../services/reducers\";\n\nexport function ProfilePage() {\n    const curUser = useSelector((store: RootState) => store.user.data);\n    const [valueName, setValueName] = useState<string>('')\n    const [valueEmail, setValueEmail] = useState<string>('')\n    const [valuePassword, setValuePassword] = useState<string>('')\n    const [typePassword, setTypePassword] = useState<TPassword>({type:'password', icon:'ShowIcon'})\n    const inputNameRef = useRef<HTMLInputElement>(null)\n    const inputEmailRef = useRef<HTMLInputElement>(null)\n    const inputPasswordRef = useRef<HTMLInputElement>(null)\n    const dispatch = useDispatch()\n\n    const { url, path } = useRouteMatch();\n\n    useEffect(()=>{\n        setValueName((curUser)?curUser.name:'')\n        setValueEmail((curUser)?curUser.email:'')\n    }, [curUser])\n\n    const showPassword = ():void => {\n        if (typePassword.type === 'text') {\n            setTypePassword({type:'password', icon: 'ShowIcon'});\n        } else {\n            setTypePassword({type:'text', icon: 'HideIcon'});\n        }\n    }\n\n    const handleOnClick = ():void => {\n        setValueName((curUser)?curUser.name:'')\n        setValueEmail((curUser)?curUser.email:'')\n        setValuePassword('')\n    }\n\n    const singOut = ():void => {\n        dispatch(logoutUser(JSON.stringify({\n            token: localStorage.getItem(\"refreshToken\"),\n        })));\n    }\n\n    const onSubmitHandle = (e):void => {\n        e.preventDefault()\n        fetchWithRefresh(apiURL+'auth/user', {\n            method: 'PATCH',\n            headers: {\n                'Content-Type': 'application/json',\n                Authorization: 'Bearer ' + getCookie('accessToken')\n            },\n            body: JSON.stringify({name: valueName, email: valueEmail, password: valuePassword})\n        })\n        .then(data => {\n            setUserData(data.user)\n        })\n        .catch(() => console.log('some error'))\n    }\n\n    return (\n        <div className={styles.wrap + \" pt-20\"}>\n            <div className={styles.side}>\n\n                    <ul className={styles.nav}>\n                        <li className=\"mb-5\"><NavLink className={styles.link + \" text text_type_main-medium\"} exact activeClassName={styles.active} to={{ pathname: url }}>Профиль</NavLink></li>\n                        <li className=\"mb-5\"><NavLink className={styles.link + \" text text_type_main-medium\"} activeClassName={styles.active} to={{ pathname: `${url}/orders/` }}>История заказов</NavLink></li>\n                        <li><Link className={styles.link + \" text text_type_main-medium\"} onClick={singOut} to=\"/login\">Выход</Link></li>\n                    </ul>\n                    <p className=\"text text_type_main-default text_color_inactive mt-20\">\n                        В этом разделе вы можете изменить свои персональные данные\n                    </p>\n            </div>\n            <div className={styles.page}>\n                <Switch>\n                    <ProtectedRoute path={`${path}/orders`} exact={true}>\n                        <OrdersPage />\n                    </ProtectedRoute>\n                    <Route path={`${path}`} exact={true}>\n                        <form onSubmit={onSubmitHandle} className={styles.form + \" pb-20\"}>\n                            <Input type={'text'} placeholder={'Имя'} onChange={e => setValueName(e.target.value)} value={valueName} name={'name'} ref={inputNameRef} size={'default'} /><br />\n                            <Input type={'text'} placeholder={'E-mail'} onChange={e => setValueEmail(e.target.value)} value={valueEmail} name={'email'} ref={inputEmailRef} size={'default'} /><br />\n                            <Input icon={typePassword.icon} type={typePassword.type} placeholder={'Пароль'} onChange={e => setValuePassword(e.target.value)} onIconClick={showPassword} value={valuePassword} name={'password'} ref={inputPasswordRef} size={'default'} /><br />\n                            <p className=\"text text_type_main-default\">\n                                <span className={styles.button + \" mr-10\"} onClick={handleOnClick}>Отмена</span>\n                                <Button type=\"primary\" size=\"medium\">Сохранить</Button>\n                            </p>\n                        </form>\n                    </Route>\n                </Switch>\n            </div>\n        </div>\n    )\n}\n\n\n","import {createAsyncThunk, createSlice, PayloadAction} from '@reduxjs/toolkit';\nimport {fetchWithRefresh, getCookie} from \"../../utils/utils\";\nimport {apiURL} from \"../../utils/data\";\nimport {TEntity} from \"../../types\";\n\ntype TOrderOwner = {\n    name: string,\n    email: string,\n    createdAt: string,\n    updatedAt: string,\n}\n\ntype TOrderInfo = {\n    ingredients: Array<TEntity>,\n    _id: string,\n    owner: TOrderOwner,\n    status: string,\n    name: string,\n    createdAt: string,\n    updatedAt: string,\n    number: number,\n    price: number,\n}\n\ntype TOrder = {\n    success: boolean,\n    name: string,\n    order: TOrderInfo\n}\n\ninterface OrderState {\n    order: TOrder|null,\n    loading: string\n}\n\nconst initialState: OrderState = {\n    order: null,\n    loading: 'idle'\n}\n\nexport const sendOrder = createAsyncThunk(\n    'order/sendOrder',\n    async (ingredients:any) => {\n\n        const token = getCookie('accessToken');\n        if (token) {\n            const data = fetchWithRefresh(apiURL+'orders',\n                {\n                    method: 'POST',\n                    headers: {\n                        'Content-Type': 'application/json',\n                        Authorization: 'Bearer ' + getCookie('accessToken')\n                    },\n                    body: ingredients\n                })\n            return data\n        }\n        return Promise.reject(\"Нет токена\");\n    }\n)\n\n// Then, handle actions in your reducers:\nexport const order = createSlice({\n    name: 'order',\n    initialState,\n    reducers: {\n        // standard reducer logic, with auto-generated action types per reducer\n    },\n    extraReducers: (builder) => {\n        builder.addCase(sendOrder.pending, (state) => {\n            state.loading = 'loading'\n        });\n        builder.addCase(sendOrder.fulfilled, (state, action:PayloadAction<TOrder>) => {\n            state.order = action.payload\n            state.loading = 'idle'\n        });\n        builder.addCase(sendOrder.rejected, (state) => {\n            state.loading = 'idle'\n        })\n    },\n})\n\nexport default order.reducer;\nexport const orderAction = order.actions;\n\n","import React, {useEffect} from 'react';\nimport {useDispatch, useSelector} from '../services/hooks';\nimport OrdersList from \"../components/orders-list/orders-list\";\nimport {connect, disconnect} from \"../services/actions\";\nimport styles from \"./feed.module.css\";\nimport {RootState} from \"../services/reducers\";\nimport {ordersListState} from \"../services/slices/orders-list\";\n\nexport function FeedPage() {\n    const dispatch = useDispatch();\n    const data:ordersListState = useSelector((store: RootState) => store.orders)\n\n    useEffect(() => {\n        dispatch(connect(\"wss://norma.nomoreparties.space/orders/all\"))\n        return () => {\n            dispatch(disconnect())\n        };\n    }, [dispatch]);\n\n    return (\n        <div className={`${styles.flex}`}>\n            <div className={`pt-10 mr-8 ${styles.side}`}>\n                <p className=\"text text_type_main-large mb-5\">Лента заказа</p>\n                <OrdersList />\n            </div>\n            <div className={`pt-10 ${styles.flexc}`}>\n                <div className={`${styles.info}`}>\n                    <div>\n                        <span className={`text text_type_main-medium`}>Готовы:</span>\n                        <div className=\"pt-6\">\n                            {\n                                data.orders?.filter((item, i) => item.status === 'done' && i < 10).map(item => {\n                                    return (\n                                        <div key={item._id} className={`mb-2 text text_type_digits-default ${styles.done}`}>{item.number}</div>\n                                    )\n                                })\n                            }\n                        </div>\n                    </div>\n                    <div>\n                        <span className={`mb-6 text text_type_main-medium`}>В работе:</span>\n                        <div className=\"pt-6\">\n                            {\n                                data.orders?.filter(item => item.status === 'pending').map(item => {\n                                    return (\n                                        <div key={item._id} className={`mb-2 text text_type_digits-default`}>{item.number}</div>\n                                    )\n                                })\n                            }\n                        </div>\n                    </div>\n                </div>\n                <span className={`mt-15 text text_type_main-medium`}>Выполнено за все время:</span>\n                <span className={`text text_type_digits-large`}>{data.total}</span>\n                <span className={`mt-15 text text_type_main-medium`}>Выполнено за сегодня:</span>\n                <span className={`text text_type_digits-large`}>{data.totalToday}</span>\n            </div>\n        </div>\n\n    )\n}\n\n\n","import {ActionCreatorWithPayload, ActionCreatorWithoutPayload} from '@reduxjs/toolkit'\nimport {Middleware} from 'redux'\nimport {RootState} from \"../reducers\";\n\nexport type TwsActionTypes = {\n    wsConnect: ActionCreatorWithPayload<string>,\n    wsDisconnect: ActionCreatorWithoutPayload,\n    wsSendMessage?: ActionCreatorWithPayload<any>,\n    onOpen: ActionCreatorWithoutPayload,\n    onClose: ActionCreatorWithoutPayload,\n    onError: ActionCreatorWithPayload<string>,\n    onMessage: ActionCreatorWithPayload<any>,\n}\n\nexport const socketMiddleware = (wsAction: TwsActionTypes): Middleware<{}, RootState> => {\n    return (store => {\n        let socket: WebSocket | null = null;\n\n        return next => action => {\n            const { dispatch } = store;\n            const { payload } = action;\n            const {wsConnect,wsDisconnect,wsSendMessage,onOpen,onClose,onError,onMessage} = wsAction;\n\n            console.log(action)\n\n            if (wsConnect.match(action)) {\n                console.log('connect')\n                socket = new WebSocket(payload);\n            }\n            if (socket) {\n                socket.onopen = event => {\n                    console.log('open')\n                    dispatch(onOpen());\n                };\n                socket.onerror = event => {\n                    console.log('error')\n                    dispatch(onError(\"WebSocket error observed:\" + event));\n                };\n                socket.onmessage = event => {\n                    console.log('message')\n                    const { data } = event;\n                    const parsedData = JSON.parse(data);\n                    dispatch(onMessage(parsedData));\n                };\n                socket.onclose = event => {\n                    console.log('close')\n                    dispatch(onClose());\n                };\n\n                if (wsSendMessage?.match(action)) {\n                    socket.send(JSON.stringify(payload));\n                }\n\n                if (wsDisconnect.match(action)) {\n                    socket.close();\n                }\n            }\n            next(action);\n        };\n    });\n};","\nimport {useDispatch, useSelector} from '../../services/hooks';\nimport {RootState} from \"../../services/reducers\";\nimport {useParams} from \"react-router-dom\";\nimport {OrderStatus, TOrder} from \"../../types/orders\";\nimport React, {useEffect, useState} from \"react\";\nimport styles from \"./order.module.css\";\nimport moment from \"moment\";\nimport 'moment/locale/ru';\nimport {CurrencyIcon} from \"@ya.praktikum/react-developer-burger-ui-components\";\nimport {TEntity} from \"../../types\";\nimport {connect, disconnect} from \"../../services/actions\";\n\ntype TRouteParams = {\n    id: string;\n}\n\nexport const Order:React.FC = () => {\n    const[order, setOrder] = useState<TOrder|null>(null);\n    const isLoading = useSelector((store: RootState) => store.ingredients.loading)\n    const data:Array<TOrder>|null = useSelector((store: RootState) => store.orders.orders)\n    const dataIng:Array<TEntity> = useSelector((store: RootState) => store.ingredients.entities)\n    let { id } = useParams<TRouteParams>();\n    let price = 0;\n    moment.locale('RU');\n\n    const dispatch = useDispatch();\n\n    useEffect(() => {\n        dispatch(connect(\"wss://norma.nomoreparties.space/orders/all\"))\n        return () => {\n            dispatch(disconnect())\n        };\n    }, [dispatch]);\n\n    useEffect(()=>{\n        data?.filter(item => item._id === id).map(item =>\n            setOrder(item)\n        )\n    }, [data, id])\n\n    if (isLoading === 'loading' || !order) {\n        return null\n    }\n\n    return (\n        <div className={styles.wrap}>\n            <section className={`pt-4 pl-4 pr-4 pb-4  ${styles.order}`}>\n                <span className={`text text_type_digits-default mb-10 ${styles.center}`}>#{order.number}</span>\n                <span className={`mb-2 text text_type_main-medium mb-3`}>{order.name}</span>\n                <span className={`mb-6 text text_type_main-default mb-15 ${(order.status === 'done')? styles.done : '' }`}>{OrderStatus[order.status]}</span>\n                <span className={`mb-2 text text_type_main-medium mb-6`}>Состав:</span>\n                <div className={styles['item-wrap']}>\n                    {data && order.ingredients.map(\n                        ing =>\n                            dataIng.filter(ingdata => ingdata._id === ing)\n                                .map(it => {\n                                        price += it.price * ((it.type === 'bun')?2:1);\n                                        return (\n                                            <div key={it._id} className={`mb-4 ${styles.ing}`}>\n                                                <div className={styles.icon}><img className={`pl-4 pr-4 mb-1 ${styles.image}`} src={it.image} alt={it.name}/></div>\n                                                <div className={`mb-2 mr-4 ml-4`}><span className={`text text_type_main-default`}>{it.name}</span></div>\n                                                <div className={`mr-4 ${styles.price}`}><span className=\"text text_type_digits-default mr-4 mb-1 price\">{(it.type === 'bun')?2:1} x {it.price}</span> <CurrencyIcon type=\"primary\" /></div>\n                                            </div>\n                                        )\n                                    }\n                                )\n                    )\n                    }\n                </div>\n                <div className={`mt-10 ${styles.bottom}`}>\n                    <span className={`text text_type_main-default text_color_inactive ${styles.date}`}>{moment(order.createdAt).format('HH:mm:ss d MMM')}</span>\n                    <span className=\"text text_type_digits-default mb-1 price\">{price} <CurrencyIcon type=\"primary\" /></span>\n                </div>\n\n            </section>\n        </div>\n    )\n}\n\n\n","import {createAsyncThunk, createSlice, PayloadAction} from '@reduxjs/toolkit';\nimport {apiURL} from \"../../utils/data\";\nimport {TEntity} from \"../../types\";\n\ntype TIngredientsState = {\n    entities: Array<TEntity>,\n    loading: string\n}\n\ntype TLoadIngredients = {\n    data: Array<TEntity>,\n}\n\nconst initialState: TIngredientsState = {\n    entities: [],\n    loading: 'idle'\n}\n\nexport const fetchIngredients = createAsyncThunk(\n    'ingredients/fetchIngredients',\n    async (userId, thunkAPI) => {\n        const response = await fetch(apiURL+'ingredients')\n        return response.json()\n    }\n)\n\n// Then, handle actions in your reducers:\nexport const ingredients = createSlice({\n    name: 'ingredients',\n    initialState,\n    reducers: {\n        // standard reducer logic, with auto-generated action types per reducer\n    },\n    extraReducers: (builder) => {\n        builder.addCase(fetchIngredients.pending, (state) => {\n            state.loading = 'loading'\n        });\n        builder.addCase(fetchIngredients.fulfilled, (state, action:PayloadAction<TLoadIngredients>) => {\n            // Add user to the state array\n            state.entities = action.payload.data\n            state.loading = 'idle'\n        });\n        builder.addCase(fetchIngredients.rejected, (state) => {\n            state.loading = 'idle'\n        })\n    },\n})\n\nexport default ingredients.reducer;","import React, {useState, useEffect} from 'react';\nimport styles from './app.module.css';\nimport AppHeader from \"../app-header/app-header\";\nimport BurgerIngredients from \"../burger-ingredients/burger-ingredients\";\nimport BurgerConstructor from \"../burger-constructor/burger-constructor\";\nimport Modal from \"../modal/modal\";\nimport IngredientDetails from \"../ingredient-details/ingredient-details\";\nimport OrderDetails from \"../order-details/order-details\";\nimport {current} from \"../../services/slices/current\";\nimport {useDispatch, useSelector} from '../../services/hooks';\nimport {RootState} from \"../../services/reducers\";\nimport {Switch, Route, useLocation } from 'react-router-dom';\nimport {ResetPasswordPage, ForgotPasswordPage, LoginPage, RegisterPage, ProfilePage } from '../../pages';\n\nimport { HTML5Backend } from 'react-dnd-html5-backend';\nimport { DndProvider } from 'react-dnd';\nimport { sendOrder } from \"../../services/slices/order\";\nimport ProtectedRoute from \"../protected-route/protected-route\";\nimport {history} from \"../../services/reducers/history\"\nimport {TLocationState} from \"../../types\";\nimport {FeedPage} from \"../../pages/feed\";\nimport {Order} from \"../order/order\";\nimport {fetchIngredients} from \"../../services/slices/ingredients\";\n\nexport const App = () => {\n    const location = useLocation<TLocationState>();\n    const dispatch = useDispatch();\n    const[visible,setVisible] = useState<boolean>(false);\n    //const[typeModal, setTypeModal] = useState<string>('');\n    //const product = useSelector((store: RootState) => store.current.cur)\n    const data = useSelector((store: RootState) => store.constructors.items)\n    const background = (history.action === 'PUSH' || history.action === 'REPLACE') ? (location.state && location.state.background) : null;\n\n    const handleOpenModal = (e?: React.MouseEvent<HTMLElement>):void => {\n        if (e !== undefined && e.currentTarget.dataset.modaltype && e.currentTarget.dataset.modaltype.toString() === \"Ingredients\") {\n            //setTypeModal(\"Ingredients\")\n            if (e.currentTarget.dataset.item !== undefined) {\n                dispatch(current.actions.add(JSON.parse(e.currentTarget.dataset.item)))\n            }\n            setVisible(true)\n        } else if (data.filter(item => item.type === \"bun\").length === 1) {\n            var ingredients = data.map(item => item._id)\n            dispatch(sendOrder(JSON.stringify({ingredients})))\n            //setTypeModal(\"Order\")\n            setVisible(true)\n        }\n\n    }\n\n    const handleCloseModal = () => {\n        if (!visible) {\n            history.goBack();console.log('presIngredientss')\n        } else {\n            setVisible(false)\n            dispatch(current.actions.del())\n        }\n    }\n\n    const handleKeyPress = (e) => {\n        if ((visible||background) && e.key === \"Escape\") {\n             handleCloseModal()\n        }\n    }\n\n    useEffect(()=>{\n        dispatch(fetchIngredients())\n    }, [dispatch])\n\n    useEffect(() => {\n            document.addEventListener(\"keydown\", handleKeyPress);\n            return() => {\n                document.removeEventListener(\"keydown\", handleKeyPress);\n            }\n        }\n    )\n\n    //console.log(history)\n    //console.log(location)\n    /*\n    * / - главная страница, конструктор бургеров.\n    * /login - страница авторизации.\n    * /register - страница регистрации.\n    * /forgot-password - страница восстановления пароля.\n    * /reset-password - страница сброса пароля.\n    * /profile — страница с настройками профиля пользователя.\n    * /ingredients/:id — страница ингредиента.\n    * 404\n    *\n    */\n\n    const modal = <Modal handleCloseModal={handleCloseModal}><OrderDetails /></Modal>\n    // const modal = (typeModal === 'Ingredients' && product !== null) ? <Modal handleCloseModal={handleCloseModal}>\n    //     <IngredientDetails {...product} /></Modal> : <Modal handleCloseModal={handleCloseModal}><OrderDetails /></Modal>\n\n    return (\n        <div className={styles.app}>\n            <AppHeader />\n            <Switch location={background || location}>\n                <Route path=\"/\" exact={true}>\n                    <DndProvider backend={HTML5Backend}>\n                        <main className={styles['app-main']}>\n                            <BurgerIngredients handleOpenModal={handleOpenModal} />\n                            <BurgerConstructor handleOpenModal={handleOpenModal}/>\n                        </main>\n                    </DndProvider>\n                    {visible && modal}\n                </Route>\n                <ProtectedRoute path={`/profile/orders/:id`}>\n                    <Order />\n                </ProtectedRoute>\n                <Route path={`/feed/:id`}>\n                    <Order />\n                </Route>\n                <Route path=\"/login\">\n                    <LoginPage />\n                </Route>\n                <Route path=\"/register\">\n                    <RegisterPage/>\n                </Route>\n                <Route path=\"/forgot-password\">\n                    <ForgotPasswordPage/>\n                </Route>\n                <Route path=\"/reset-password\">\n                    <ResetPasswordPage/>\n                </Route>\n                <ProtectedRoute path=\"/profile\">\n                    <ProfilePage/>\n                </ProtectedRoute>\n                <Route path={`/ingredients/:id`}>\n                    <IngredientDetails />\n                </Route>\n                <Route path={`/feed`} exact={true}>\n                    <FeedPage/>\n                </Route>\n                <Route>\n                    <></>\n                </Route>\n            </Switch>\n\n            {/* Show the modal when a background page is set */}\n            {background && <Route path=\"/ingredients/:id\" children={<Modal handleCloseModal={handleCloseModal}>\n                <IngredientDetails /></Modal>} />}\n            {background && <Route path=\"/feed/:id\" children={<Modal handleCloseModal={handleCloseModal}>\n                <Order /></Modal>} />}\n            {background && <ProtectedRoute path=\"/profile/orders/:id\" children={<Modal handleCloseModal={handleCloseModal}>\n                <Order /></Modal>} />}\n        </div>\n    )\n}\n\nexport default App;","import { ReportHandler } from 'web-vitals';\n\nconst reportWebVitals = (onPerfEntry?: ReportHandler) => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import {createSlice, PayloadAction} from '@reduxjs/toolkit';\nimport {TOrder, TOrdersList, WebsocketStatus} from \"../../types/orders\";\n\nexport type ordersListState = {\n    status: WebsocketStatus,\n    connectionError: string,\n    orders: Array<TOrder> | null,\n    total: number,\n    totalToday: number\n}\n\nconst initialState:ordersListState = {\n    status: WebsocketStatus.OFFLINE,\n    connectionError: '',\n    orders: null,\n    total: 0,\n    totalToday: 0,\n}\n\nexport const ordersList = createSlice({\n    name: 'orderslist',\n    initialState,\n    reducers: {\n        wsOpen: state => {\n            state.status = WebsocketStatus.ONLINE\n        },\n        wsClose: state => {\n            state.status = WebsocketStatus.OFFLINE\n        },\n        wsMessage: (state, action:PayloadAction<TOrdersList>) => {\n            state.orders = action.payload.orders;\n            state.total = action.payload.total;\n            state.totalToday = action.payload.totalToday;\n        },\n        wsError: (state, action:PayloadAction<string>) => {\n            state.status = WebsocketStatus.ONLINE\n            state.connectionError = action.payload\n            state.orders = null\n            state.total = 0\n            state.totalToday = 0\n        }\n    }\n});\n\nexport const ordersListActions = ordersList.actions;\nexport const ordersListReducer = ordersList.reducer;","import { combineReducers } from 'redux';\nimport { ingredients } from '../slices/ingredients'\nimport { current } from '../slices/current'\nimport { order } from '../slices/order'\nimport { constructors } from \"../slices/constructors\";\nimport { user } from \"../slices/user\"\nimport { connectRouter, routerMiddleware } from 'connected-react-router'\nimport { configureStore } from \"@reduxjs/toolkit\";\nimport { socketMiddleware } from \"../middleware/orders-socket-middleware\";\nimport { ordersListActions, ordersListReducer } from \"../slices/orders-list\";\nimport { connect, disconnect } from \"../actions\";\nimport {history} from \"./history\";\n\n\nexport const rootReducer = combineReducers({\n    ingredients: ingredients.reducer,\n    constructors: constructors.reducer,\n    current: current.reducer,\n    order: order.reducer,\n    user: user.reducer,\n    router: connectRouter(history),\n    orders: ordersListReducer\n});\n\nconst {wsOpen, wsClose, wsMessage, wsError} = ordersListActions;\n\nconst ordersListAction = {\n    wsConnect: connect,\n    wsDisconnect: disconnect,\n    onOpen: wsOpen,\n    onClose: wsClose,\n    onError: wsError,\n    onMessage: wsMessage,\n}\n\nconst ordersMiddleware = socketMiddleware(ordersListAction);\n\nexport const store = configureStore({\n    reducer: rootReducer,\n    middleware: (getDefaultMiddleware) => {\n        return getDefaultMiddleware().concat(ordersMiddleware).concat(routerMiddleware(history))\n    },\n    devTools: process.env.NODE_ENV !== 'production',\n});\n\nexport type RootState = ReturnType <typeof rootReducer>\nexport type AppDispatch = typeof store.dispatch\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.module.css';\nimport App from './components/app/app';\nimport reportWebVitals from './reportWebVitals';\n\nimport { Provider } from 'react-redux';\nimport {store} from \"./services/reducers\";\nimport {history} from \"./services/reducers/history\";\nimport {getUser} from \"./services/slices/user\";\nimport {ConnectedRouter} from \"connected-react-router\";\n\n// const middleware = getDefaultMiddleware({\n//     immutableCheck: false,\n//     serializableCheck: false,\n//     thunk: true,\n// });\n\n\n// @ts-ignore\nstore.dispatch(getUser())\n\nReactDOM.render(\n  <React.StrictMode>\n      <Provider store={store}>\n          <ConnectedRouter history={history}>\n              <App />\n          </ConnectedRouter>\n      </Provider>\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"wrap\":\"profile_wrap__1ySMC\",\"form\":\"profile_form__1yxrZ\",\"link\":\"profile_link__1-_Is\",\"side\":\"profile_side__20RY3\",\"nav\":\"profile_nav__1tnk2\",\"active\":\"profile_active__4c5X0\",\"button\":\"profile_button__38wGI profile_link__1-_Is\",\"page\":\"profile_page__1Cs8x\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"wrap\":\"order_wrap__B3c9K\",\"order\":\"order_order__3S06G\",\"center\":\"order_center__1a6jg\",\"done\":\"order_done__1EPcy\",\"item-wrap\":\"order_item-wrap__2waql\",\"icon\":\"order_icon__1d17d\",\"image\":\"order_image__5-GwK\",\"ing\":\"order_ing__2m4UQ\",\"bottom\":\"order_bottom__3pi7O\",\"price\":\"order_price__ojCD8\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"ingredients\":\"burger-ingredients_ingredients__2TY9H\",\"tab\":\"burger-ingredients_tab__1Ru1Z\",\"item-wrap\":\"burger-ingredients_item-wrap__2danH\",\"item-subwrap\":\"burger-ingredients_item-subwrap__g2elM\",\"items\":\"burger-ingredients_items__ff6d6\",\"item\":\"burger-ingredients_item__3x5fV\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"wrap\":\"ingredient-details_wrap__24h0P\",\"list\":\"ingredient-details_list__2aOfA\",\"img\":\"ingredient-details_img__1nPTJ\",\"name\":\"ingredient-details_name__3OKTo\",\"item\":\"ingredient-details_item__2m5b9\",\"header\":\"ingredient-details_header__2JP_g\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"item\":\"orders-list-item_item__363f8\",\"link\":\"orders-list-item_link__1LzKK\",\"icon\":\"orders-list-item_icon__1Mjv2\",\"image\":\"orders-list-item_image__2hvBr\",\"wrap\":\"orders-list-item_wrap__2vYgG\",\"date\":\"orders-list-item_date__2CBDY\",\"block\":\"orders-list-item_block__23CTK\",\"done\":\"orders-list-item_done__3JoM1\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"header\":\"app-header_header__1iHLW\",\"nav\":\"app-header_nav__1_idE app-header_header__1iHLW\",\"nav-item\":\"app-header_nav-item__2nTkN app-header_header__1iHLW\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"flex\":\"feed_flex__1sWFG\",\"flexc\":\"feed_flexc__qk3dU\",\"info\":\"feed_info__1VRyk\",\"form\":\"feed_form__2anBy\",\"link\":\"feed_link__6qN0u\",\"side\":\"feed_side__1Ce22\",\"nav\":\"feed_nav__28Caq\",\"active\":\"feed_active__1IOED\",\"button\":\"feed_button__2uurG feed_link__6qN0u\",\"done\":\"feed_done__i9bek\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"ingredients\":\"burger-construction_ingredients__2ATvb\",\"item-wrap\":\"burger-construction_item-wrap__2kPKs\",\"total-price\":\"burger-construction_total-price__35MqF\",\"total\":\"burger-construction_total__IGKwT\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"wrap\":\"login_wrap__HcOkz\",\"link\":\"login_link__3E_sF\",\"form\":\"login_form__2rWWY\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"orders\":\"orders-list_orders__7Am4h\",\"tab\":\"orders-list_tab__3tZVm\",\"item-wrap\":\"orders-list_item-wrap__3n7q1\",\"item-subwrap\":\"orders-list_item-subwrap__Wjwex\",\"items\":\"orders-list_items__SfQgk\",\"item\":\"orders-list_item__3XIIt\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"wrap\":\"order-details_wrap__3mcNe\",\"text\":\"order-details_text__ZLZ7C\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"wrap\":\"register_wrap__1CHrU\",\"link\":\"register_link__1uCnB\",\"form\":\"register_form__2dthx\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"wrap\":\"forgot-password_wrap__2PBHe\",\"link\":\"forgot-password_link__KBp77\",\"form\":\"forgot-password_form__1u9xp\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"wrap\":\"reset-password_wrap__2IMej\",\"link\":\"reset-password_link__6i358\",\"form\":\"reset-password_form__3zpXn\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"app\":\"app_app__M9MMq\",\"app-main\":\"app_app-main__10VMB\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"item\":\"ingredients-item_item__7IEd2\",\"link\":\"ingredients-item_link__1-Rdf\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"modal\":\"modal_modal__1DF1f\",\"header\":\"modal_header__2iX3r\"};"],"sourceRoot":""}